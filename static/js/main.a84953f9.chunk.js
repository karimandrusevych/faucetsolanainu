(this.webpackJsonpfaucet=this.webpackJsonpfaucet||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},143:function(e,t){},147:function(e,t){},181:function(e,t){},182:function(e,t){},213:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(25),s=n.n(c),u=(n(124),n(125),n(2)),o=n.n(u),i=n(6),l=n(15),b=n(217),p=n(225),d=n(218),j=n(109),f=n(227),O=n(219),h=n(41),x=n(78),g=n(46),v=n.n(g),y=n(108),w=n(8),k=(n(201),n(116)),m=n(5),A=n(8),S=n(207),T=new Uint8Array([119,33,99,163,230,116,82,108,180,22,234,75,187,102,118,87,193,192,155,246,246,8,107,149,140,222,211,237,215,130,101,7,71,162,57,238,191,248,130,62,45,151,48,126,13,182,181,182,255,61,65,52,237,48,103,163,1,183,187,221,158,44,89,14]),C="5jFnsfx36DyGk8uVGrbXnVUMTsBkPXGpx6e69BiGFzko",I=2*A.LAMPORTS_PER_SOL/1e3,R=function(){var e=Object(r.useRef)(),t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(y.b)(),u=s.publicKey,g=s.sendTransaction,R=Object(r.useState)(null),P=Object(l.a)(R,2),E=P[0],K=P[1],G=Object(r.useState)(null),L=Object(l.a)(G,2),U=L[0],F=L[1],M=Object(r.useState)(null),N=Object(l.a)(M,2),_=N[0],B=N[1],D=Object(r.useState)(null),V=Object(l.a)(D,2),Y=V[0],J=V[1],q=Object(r.useState)(0),z=Object(l.a)(q,2),W=z[0],X=z[1],H=Object(r.useState)(!1),Q=Object(l.a)(H,2),Z=Q[0],$=Q[1];Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://us-central1-devtest-d441d.cloudfunctions.net/solanainu/api/v1/setting/read");case 2:t=e.sent,console.log(t.data.body),!0===t.data.success&&t.data.body.length>0&&X(t.data.body[0].tokenCount);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(i.a)(o.a.mark((function e(){var t,n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new A.Connection(A.clusterApiUrl("mainnet-beta")),J(t),n=A.Keypair.fromSecretKey(T),B(n),r=new A.PublicKey(C),a=new S.Token(t,r,S.TOKEN_PROGRAM_ID,n),F(a),e.next=9,a.getOrCreateAssociatedAccountInfo(n.publicKey);case 9:c=e.sent,K(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]);var ee=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return t={walletAddress:u.toString()},console.log(t),e.prev=4,e.next=7,v.a.post("https://us-central1-devtest-d441d.cloudfunctions.net/solanainu/api/v1/rule/chargeCheck",t);case 7:return n=e.sent,console.log("TRIET "+n.data.success),e.abrupt("return",n.data.success);case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://geolocation-db.com/json/");case 2:return t=e.sent,n=t.data.IPv4.replaceAll(".","_"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,te();case 4:return t=e.sent,n={ipAddress:t,walletAddress:u.toString()},console.log(n),e.prev=7,e.next=10,v.a.post("https://us-central1-devtest-d441d.cloudfunctions.net/solanainu/api/v1/rule/check",n);case 10:return r=e.sent,console.log("TRIET "+r.data.success),e.abrupt("return",!r.data.success);case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,te();case 4:return t=e.sent,n={ipAddress:t,walletAddress:u.toString()},console.log(n),e.prev=7,e.next=10,v.a.post("https://us-central1-devtest-d441d.cloudfunctions.net/solanainu/api/v1/rule/create",n);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(7),Object(h.b)("Plese try again later"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Get SOL balance"),e.next=3,Y.getBalance(u);case 3:return t=e.sent,console.log(t,I),e.abrupt("return",t>I);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var t=Object(i.a)(o.a.mark((function t(){var n,r,s,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:if(console.log("clicked"),u){t.next=5;break}throw new x.e;case 5:return c(!0),t.next=8,ne();case 8:if(!t.sent){t.next=15;break}return Object(h.b)("You already got the faucet today!"),e.current.reset(),$(!1),c(!1),t.abrupt("return");case 15:return t.next=17,ee();case 17:if(!t.sent){t.next=41;break}return t.next=21,ae();case 21:if(t.sent){t.next=28;break}return Object(h.b)("Not enough balance to get faucet!"),e.current.reset(),$(!1),c(!1),t.abrupt("return");case 28:return n=(new w.Transaction).add(w.SystemProgram.transfer({fromPubkey:u,toPubkey:"5pdRNu4p6Lpc5UqKVnY1rgyFi5GReCKLJMTV4cYoAsEm",lamports:I})),t.next=31,g(n,Y);case 31:return r=t.sent,t.next=34,Y.confirmTransaction(r,"processed");case 34:if(null==t.sent.value.err){t.next=41;break}return Object(h.b)("We get some error, please try again later!!"),e.current.reset(),$(!1),c(!1),t.abrupt("return");case 41:return t.next=43,U.getOrCreateAssociatedAccountInfo(u);case 43:return s=t.sent,i=(new A.Transaction).add(S.Token.createTransferInstruction(S.TOKEN_PROGRAM_ID,E.address,s.address,_.publicKey,[],W*Math.pow(10,9))),t.next=47,A.sendAndConfirmTransaction(Y,i,[_]);case 47:return l=t.sent,t.next=50,re();case 50:c(!1),Object(h.b)("Transferd ".concat(W," Solana INU to your wallet")),e.current.reset(),$(!1),console.log("SIGNATURE",l),console.log("SUCCESS");case 56:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)(b.a,{style:{position:"relative"},children:[Object(m.jsx)(h.a,{}),u?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(p.a,{style:{marginTop:"100px"},children:[Object(m.jsx)(d.a,{style:{margin:"5vh"},children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)("h1",{children:"Solana INU Faucet"}),Object(m.jsxs)("p",{children:["Current tokens will be receive: ",W," INU"]})]})}),Object(m.jsx)(d.a,{style:{marginLeft:"5vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(k.a,{ref:e,sitekey:"6LdHCVgdAAAAAOaYxiE2EDWwusRR6IKLdyOGenz_",onChange:function(e){$(null!==e),console.log("captcha change "+e)}})}),Object(m.jsx)(d.a,{style:{margin:"5vh"},children:Object(m.jsx)(j.a,{children:Object(m.jsx)(f.a,{onClick:ce,disabled:!Z,variant:"primary",children:a?Object(m.jsx)(O.a,{animation:"border"}):"Request tokens"})})})]})}):Object(m.jsx)("h2",{style:{color:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"Please connect your wallet first"})]})},P=n(111),E=n(22),K=n(224),G=n(229),L=n(226),U=n(110),F=n(228),M=n(222),N=n(223),_=n(80),B=n.p+"static/media/solanainu-logo-sm.134399a2.png";n(208);var D=function(){var e=U.b.Devnet,t=Object(r.useMemo)((function(){return Object(w.clusterApiUrl)(e)}),[e]),n=Object(r.useMemo)((function(){return[Object(F.a)(),Object(M.a)({network:e}),Object(N.a)({network:e})]}),[e]);return Object(m.jsx)(G.a,{endpoint:t,children:Object(m.jsx)(L.a,{wallets:n,autoConnect:!0,children:Object(m.jsx)(_.a,{children:Object(m.jsxs)(P.a,{children:[Object(m.jsx)(K.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(K.a.Brand,{href:"/",children:Object(m.jsx)("img",{src:B,width:"70",height:"70",className:"d-inline-block ",alt:""})}),Object(m.jsx)(_.b,{})]})}),Object(m.jsx)(E.c,{children:Object(m.jsx)(E.a,{exact:!0,path:"/",children:Object(m.jsx)(R,{})})})]})})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(212);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(D,{})}),document.getElementById("root")),V()}},[[213,1,2]]]);
//# sourceMappingURL=main.a84953f9.chunk.js.map